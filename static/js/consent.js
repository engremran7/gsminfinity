(()=>{(function(){"use strict";function r(){try{let t=document.querySelector("#consent-banner");t&&t.remove();let e=document.getElementById("consent-banner-slot");e&&!e.hasChildNodes()&&e.remove()}catch(t){console.debug("consent.js: remove banner failed",t)}}function s(t){try{let e=t&&t.detail;if(!e)return;let o=e.html;if(!o)return;let n=document.querySelector("#global-toasts")||document.getElementById("app-toasts");if(!n)return;n.insertAdjacentHTML("afterbegin",o)}catch(e){console.debug("consent.js: showToast failed",e)}}document.addEventListener("removeConsentBanner",r),document.addEventListener("showToast",s),document.body.addEventListener("htmx:afterOnLoad",function(t){try{let e=t.detail&&t.detail.xhr;if(!e)return;let o=e.getResponseHeader("HX-Trigger");if(!o)return;let n={};try{n=JSON.parse(o)}catch(a){console.debug("consent.js: invalid/non-JSON HX-Trigger payload - ignored",a);return}n.removeConsentBanner&&r(),n.showToast&&n.showToast.html&&s({detail:n.showToast})}catch(e){console.debug("consent.js: htmx after load handler failed",e)}})})();})();
